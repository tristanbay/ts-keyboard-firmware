// settings functions (and hard-coded presets)

Settings::Settings()
{
  short mpre[MAPCOUNT][KEYCOUNT] = { // temp array for key mappings (layout formatted in mirror image of keyboard)
    { // 41edo
        3,  2,  1,
      7,  6,  5,  4,
        10, 9,  8,
          13, 12, 11,
        17, 16, 15, 14,
          20, 19, 18,
        24, 23, 22, 21,
          27, 26, 25,
        31, 30, 29, 28,
          34, 33, 32,
            37, 36, 35,
          41, 40, 39, 38,
            44, 43, 42,
          48, 47, 46, 45,
            51, 50, 49,
              54, 53, 52,
            58, 57, 56, 55,
              61, 60, 59,
            65, 64, 63, 62,
              68, 67, 66,
            72, 71, 70, 69,
              75, 74, 73,
                78, 77, 76,
              82, 81, 80, 79,
                85, 84, 83,
              89, 88, 87, 86,
                92, 91, 90,
                  95, 94, 93,
                99, 98, 97, 96,
                  102,101,100,
                106,105,104,103,
                  109,108,107,
                113,112,111,110,
                  116,115,114,
                    119,118,117,
                  123,122,121,120,
                    126,125,124
    },
    { // 31edo
        16, 17, 18,
      18, 19, 20, 21,
        21, 22, 23,
          24, 25, 26,
        26, 27, 28, 29,
          29, 30, 31,
        31, 32, 33, 34,
          34, 35, 36,
        36, 37, 38, 39,
          39, 40, 41,
            42, 43, 44,
          44, 45, 46, 47,
            47, 48, 49,
          49, 50, 51, 52,
            52, 53, 54,
              55, 56, 57,
            57, 58, 59, 60,
              60, 61, 62,
            62, 63, 64, 65,
              65, 66, 67,
            67, 68, 69, 70,
              70, 71, 72,
                73, 74, 75,
              75, 76, 77, 78,
                78, 79, 80,
              80, 81, 82, 83,
                83, 84, 85,
                  86, 87, 88,
                88, 89, 90, 91,
                  91, 92, 93,
                93, 94, 95, 96,
                  96, 97, 98,
                98, 99, 100,101,
                  101,102,103,
                    104,105,106,
                  106,107,108,109,
                    109,110,111
    },
    { // 22edo
        33, 31, 29,
      36, 34, 32, 30,
        37, 35, 33,
          38, 36, 34,
        41, 39, 37, 35,
          42, 40, 38,
        45, 43, 41, 39,
          46, 44, 42,
        49, 47, 45, 43,
          50, 48, 46,
            51, 49, 47,
          54, 52, 50, 48,
            55, 53, 51,
          58, 56, 54, 52,
            59, 57, 55,
              60, 58, 56,
            63, 61, 59, 57,
              64, 62, 60,
            67, 65, 63, 61,
              68, 66, 64,
            71, 69, 67, 65,
              72, 70, 68,
                73, 71, 69,
              76, 74, 72, 70,
                77, 75, 73,
              80, 78, 76, 74,
                81, 79, 77,
                  82, 80, 78,
                85, 83, 81, 79,
                  86, 84, 82,
                89, 87, 85, 83,
                  90, 88, 86,
                93, 91, 89, 87,
                  94, 92, 90,
                    95, 93, 91,
                  98, 96, 94, 92,
                    99, 97, 95
    }
  };
  for (int i = 0; i < MAPCOUNT; ++i) // move to struct-wide array
    for (int j = 0; j < KEYCOUNT; ++j)
      mappings[j][i] = mpre[i][j];
  currmap = 0; // default mapping index
}

void Settings::changemapping()
{
  currmap = (currmap + 1) % MAPCOUNT;
}